[2024-10-07T22:31:06.892+0000] {taskinstance.py:1165} INFO - Dependencies all met for <TaskInstance: pinecone_embedding_test_dag.embed_convertapi_pages manual__2024-10-07T22:31:00.025280+00:00 [queued]>
[2024-10-07T22:31:06.900+0000] {taskinstance.py:1165} INFO - Dependencies all met for <TaskInstance: pinecone_embedding_test_dag.embed_convertapi_pages manual__2024-10-07T22:31:00.025280+00:00 [queued]>
[2024-10-07T22:31:06.901+0000] {taskinstance.py:1362} INFO - 
--------------------------------------------------------------------------------
[2024-10-07T22:31:06.901+0000] {taskinstance.py:1363} INFO - Starting attempt 1 of 3
[2024-10-07T22:31:06.902+0000] {taskinstance.py:1364} INFO - 
--------------------------------------------------------------------------------
[2024-10-07T22:31:06.913+0000] {taskinstance.py:1383} INFO - Executing <Task(PythonOperator): embed_convertapi_pages> on 2024-10-07 22:31:00.025280+00:00
[2024-10-07T22:31:06.918+0000] {standard_task_runner.py:55} INFO - Started process 16078 to run task
[2024-10-07T22:31:06.920+0000] {standard_task_runner.py:82} INFO - Running: ['***', 'tasks', 'run', 'pinecone_embedding_test_dag', 'embed_convertapi_pages', 'manual__2024-10-07T22:31:00.025280+00:00', '--job-id', '106', '--raw', '--subdir', 'DAGS_FOLDER/Pinecone_Test.py', '--cfg-path', '/tmp/tmpuaburve7']
[2024-10-07T22:31:06.922+0000] {standard_task_runner.py:83} INFO - Job 106: Subtask embed_convertapi_pages
[2024-10-07T22:31:07.008+0000] {task_command.py:376} INFO - Running <TaskInstance: pinecone_embedding_test_dag.embed_convertapi_pages manual__2024-10-07T22:31:00.025280+00:00 [running]> on host 65f7b1aa1c1b
[2024-10-07T22:31:07.090+0000] {taskinstance.py:1590} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=***
AIRFLOW_CTX_DAG_ID=pinecone_embedding_test_dag
AIRFLOW_CTX_TASK_ID=embed_convertapi_pages
AIRFLOW_CTX_EXECUTION_DATE=2024-10-07T22:31:00.025280+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=manual__2024-10-07T22:31:00.025280+00:00
[2024-10-07T22:31:07.956+0000] {logging_mixin.py:137} INFO - Error creating Pinecone index: (409)
Reason: Conflict
HTTP response headers: HTTPHeaderDict({'content-type': 'text/plain; charset=utf-8', 'access-control-allow-origin': '*', 'vary': 'origin,access-control-request-method,access-control-request-headers', 'access-control-expose-headers': '*', 'x-pinecone-api-version': '2024-07', 'X-Cloud-Trace-Context': '0df927a05358e53e941dd5c923e7b9d5', 'Date': 'Mon, 07 Oct 2024 22:31:08 GMT', 'Server': 'Google Frontend', 'Content-Length': '85', 'Via': '1.1 google', 'Alt-Svc': 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'})
HTTP response body: {"error":{"code":"ALREADY_EXISTS","message":"Resource  already exists"},"status":409}
[2024-10-07T22:31:08.317+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/021a5339-744f-42b7-bd9b-9368b3efda7a.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:08.318+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/366e2f2b-8632-4ef2-81eb-bc3877489217.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:09.244+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_021a5339-744f-42b7-bd9b-9368b3efda7a.pdf.json, content index 0, chunk 0 in index convertapi-index
[2024-10-07T22:31:09.596+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_021a5339-744f-42b7-bd9b-9368b3efda7a.pdf.json, content index 1, chunk 0 in index convertapi-index
[2024-10-07T22:31:09.597+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/convertapi_32f386b9-73ee-4455-b412-ddad508aa979.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:10.002+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_366e2f2b-8632-4ef2-81eb-bc3877489217.pdf.json, content index 0, chunk 0 in index convertapi-index
[2024-10-07T22:31:10.648+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_366e2f2b-8632-4ef2-81eb-bc3877489217.pdf.json, content index 1, chunk 0 in index convertapi-index
[2024-10-07T22:31:10.650+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/convertapi_4044eab7-1282-42bd-a559-3bf3a4d5858e.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:11.049+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_634fca59-03b2-4cdf-9ce4-0205df22f256.pdf.json, content index 0, chunk 0 in index convertapi-index
[2024-10-07T22:31:11.422+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_634fca59-03b2-4cdf-9ce4-0205df22f256.pdf.json, content index 1, chunk 0 in index convertapi-index
[2024-10-07T22:31:11.424+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/convertapi_67e8878b-5cef-4375-804e-e6291fdbe78a.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:11.425+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/convertapi_680d7d77-c0c7-49c8-88fd-f8ec623645e9.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:11.426+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/convertapi_7c215d46-91c7-424e-9f22-37d43ab73ea6.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:12.505+0000] {util.py:67} INFO - error_code=None error_message="This model's maximum context length is 8192 tokens, however you requested 11481 tokens (11481 in your prompt; 0 for the completion). Please reduce your prompt; or completion length." error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
[2024-10-07T22:31:12.506+0000] {logging_mixin.py:137} INFO - Failed to process content index 0 in file /tmp/convertapi_8f697523-6988-4c4f-8d72-760a45681f68.pdf.json: This model's maximum context length is 8192 tokens, however you requested 11481 tokens (11481 in your prompt; 0 for the completion). Please reduce your prompt; or completion length.
[2024-10-07T22:31:13.187+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_8f697523-6988-4c4f-8d72-760a45681f68.pdf.json, content index 1, chunk 0 in index convertapi-index
[2024-10-07T22:31:13.489+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_8f697523-6988-4c4f-8d72-760a45681f68.pdf.json, content index 2, chunk 0 in index convertapi-index
[2024-10-07T22:31:13.675+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_8f697523-6988-4c4f-8d72-760a45681f68.pdf.json, content index 3, chunk 0 in index convertapi-index
[2024-10-07T22:31:14.054+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_8f697523-6988-4c4f-8d72-760a45681f68.pdf.json, content index 4, chunk 0 in index convertapi-index
[2024-10-07T22:31:14.382+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_8f697523-6988-4c4f-8d72-760a45681f68.pdf.json, content index 5, chunk 0 in index convertapi-index
[2024-10-07T22:31:15.181+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_8f697523-6988-4c4f-8d72-760a45681f68.pdf.json, content index 6, chunk 0 in index convertapi-index
[2024-10-07T22:31:15.549+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_8f697523-6988-4c4f-8d72-760a45681f68.pdf.json, content index 7, chunk 0 in index convertapi-index
[2024-10-07T22:31:15.550+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/convertapi_b3654e47-4307-442c-a09c-945b33b913c6.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:15.551+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/convertapi_c4456885-2f03-436f-8fe9-0b4ca6822cdb.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:15.552+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/convertapi_e9a2c537-8232-4c3f-85b0-b52de6bcba99.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:16.045+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_example.pdf.json, content index 0, chunk 0 in index convertapi-index
[2024-10-07T22:31:16.293+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_example.pdf.json, content index 1, chunk 0 in index convertapi-index
[2024-10-07T22:31:16.471+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_example.pdf.json, content index 2, chunk 0 in index convertapi-index
[2024-10-07T22:31:16.693+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_example.pdf.json, content index 3, chunk 0 in index convertapi-index
[2024-10-07T22:31:17.087+0000] {logging_mixin.py:137} INFO - Stored embedding for /tmp/convertapi_example.pdf.json, content index 4, chunk 0 in index convertapi-index
[2024-10-07T22:31:17.088+0000] {logging_mixin.py:137} INFO - Skipping content index 5 due to decoding error: 'utf-8' codec can't decode byte 0xd0 in position 4: invalid continuation byte
[2024-10-07T22:31:17.089+0000] {logging_mixin.py:137} INFO - Failed to process /tmp/example.pdf.json: 'str' object has no attribute 'get'
[2024-10-07T22:31:17.090+0000] {python.py:177} INFO - Done. Returned value was: None
[2024-10-07T22:31:17.108+0000] {taskinstance.py:1401} INFO - Marking task as SUCCESS. dag_id=pinecone_embedding_test_dag, task_id=embed_convertapi_pages, execution_date=20241007T223100, start_date=20241007T223106, end_date=20241007T223117
[2024-10-07T22:31:17.145+0000] {local_task_job.py:159} INFO - Task exited with return code 0
[2024-10-07T22:31:17.172+0000] {taskinstance.py:2623} INFO - 0 downstream tasks scheduled from follow-on schedule check
